<form class="data-form" [formGroup]="form" autocomplete="off" (ngSubmit)="onSubmit()">
  <div class="d-inline-flex">
    <div>
      <div class="drag-and-drop"
           [style]="imageValue || type ? 'box-shadow: none; background: none; border: 2px solid transparent' : ''">

        <div *ngIf="!type" class="drag-and-drop-info"></div>

        <div class="drag-and-drop-container"
             [style]="imageValue || type ? 'padding: 22px 8px 16px 8px; background-image: none' : ''"
             (fileDropped)="onChange($event)">
          <div *ngIf="imageValue || editImagePath">
            <div class="image-block">
              <img *ngIf="imageValue || editImagePath"
                   src="{{imageValue ? imageValue : this.requestService.imgSite + editImagePath}}" alt="image"
                   class="user-image">
              <img src="assets/images/icons/icon-edit.png" alt="image" class="user-edit-icon">
            </div>
          </div>
          <input formControlName="image" type="file" id="fileDropRef" (change)="onChange($event)"/>
          <div *ngIf="!type">
            <img class="btn-upload" src="../../../../../../assets/images/icons/btn-upload.png" alt="upload">
            <h3>{{helperService.translation?.select_image}}</h3>
          </div>
        </div>
      </div>
      <div class="error-message">
        <span *ngIf="form.controls.image?.hasError('size')">{{helperService.translation?.image_size_error}}</span>
        <span *ngIf="form.controls.image?.hasError('type')">{{helperService.translation?.invalid_image}}</span>
      </div>
    </div>

    <div style="padding-left: 15px;">
      <div class="form-group">
        <label [ngClass]="(form.controls.consultant_category_id?.invalid &&
        (form.controls.consultant_category_id?.dirty || form.controls.consultant_category_id?.touched)) ? 'invalid-label-color' : ''">
          {{helperService.translation?.profession}} *</label>
        <angular2-multiselect [data]="itemList"
                              id="consultant_category_id"
                              formControlName="consultant_category_id"
                              [settings]="settings"
                              (onDeSelect)="closeDropdown(dropdownRef)"
                              #dropdownRef>
          <c-badge>
            <ng-template let-item="item">
              <label style="margin: 0px;">{{item.itemName}}</label>
            </ng-template>
          </c-badge>
          <c-item>
            <ng-template let-item="item">
              <label>{{item.itemName}}</label>
            </ng-template>
          </c-item>
        </angular2-multiselect>
        <div *ngIf="!form.controls.consultant_category_id?.valid && (form.controls.consultant_category_id?.dirty || form.controls.consultant_category_id?.touched)">
          <span class="error-message">{{helperService.translation?.profession_required}}</span>
        </div>
      </div>
      <div class="form-group" formGroupName="social_links">
        <label for="instagram">{{helperService.translation?.instagram_link}}</label>
        <div class="position-relative" formGroupName="0">
          <input style="padding-left: 32px; padding-bottom: 7px;" type="text" id="instagram" formControlName="url"
                 class="form-control">
          <img style="top: 4px;left: 4px;" class="position-absolute" src="assets/images/icons/icon-instagram.png"
               alt="">
          <div *ngIf="!form.controls.instagram?.valid && (form.controls.instagram?.dirty || form.controls.instagram?.touched)">
            <span class="error-message">{{helperService.translation?.instagram_link_required}}</span>
          </div>
        </div>
      </div>
    </div>
    <div style="padding-left: 15px;">
      <div class="form-group">
        <label for="phone" [ngClass]="(form.controls.phone?.invalid &&
        (form.controls.phone?.dirty || form.controls.phone?.touched)) ? 'invalid-label-color' : ''">{{helperService.translation?.phone}} *</label>
        <input type="text" id="phone" formControlName="phone" class="form-control">
        <div class="error-message">
          <span *ngIf="form.controls.phone?.errors?.required && (form.controls.phone?.dirty || form.controls.phone?.touched)">{{helperService.translation?.phone_required}}</span>
          <span *ngIf="form.controls.phone?.errors?.pattern && (form.controls.phone?.dirty || form.controls.phone?.touched)">{{helperService.translation?.invalid_phone}}</span>
        </div>
      </div>
      <div class="form-group" formGroupName="social_links">
        <label for="facebook">{{helperService.translation?.facebook_link}}</label>
        <div class="position-relative" formGroupName="1">
          <input style="padding-left: 32px; padding-bottom: 7px;" type="text" id="facebook" formControlName="url"
                 class="form-control">
          <img style="top: 4px;left: 4px;" class="position-absolute" src="assets/images/icons/icon-facebook.png" alt="">
          <div *ngIf="!form.controls.facebook?.valid && (form.controls.facebook?.dirty || form.controls.facebook?.touched)">
            <span class="error-message">{{helperService.translation?.facebook_link_required}}</span>
          </div>
        </div>
      </div>
    </div>
    <div style="padding-left: 15px;">
      <div class="form-group">
        <label for="email" [ngClass]="(form.controls.email?.invalid &&
        (form.controls.email?.dirty || form.controls.email?.touched)) ? 'invalid-label-color' : ''">{{helperService.translation?.email}} *</label>
        <input type="email" id="email" formControlName="email" class="form-control">
        <div class="error-message">
          <span *ngIf="form.controls.email?.errors?.required && (form.controls.email?.dirty || form.controls.email?.touched)">{{helperService.translation?.email_required}} </span>
          <span *ngIf="form.controls.email?.errors?.pattern && (form.controls.email?.dirty || form.controls.email?.touched)">{{helperService.translation?.email_invalid}}</span>
        </div>
      </div>

    </div>
  </div>

  <div>
  <div class="d-inline-flex">
      <div>
        <div class="form-group">
          <label for="first_name" [ngClass]="(form.controls.first_name?.invalid &&
        (form.controls.first_name?.dirty || form.controls.first_name?.touched)) ? 'invalid-label-color' : ''">{{helperService.translation?.first_name}} *</label>
          <input type="text" id="first_name" formControlName="first_name" class="form-control">
          <div *ngIf="form.controls.first_name?.errors?.required && (form.controls.first_name?.dirty || form.controls.first_name?.touched)">
            <span class="error-message">{{helperService.translation?.name_required}}</span>
          </div>
        </div>
      </div>

      <div style="padding-left: 15px;">
        <div class="form-group">
          <label for="last_name" [ngClass]="(form.controls.last_name?.invalid &&
        (form.controls.last_name?.dirty || form.controls.last_name?.touched)) ? 'invalid-label-color' : ''">{{helperService.translation?.last_name}} *</label>
          <input type="text" id="last_name" formControlName="last_name" class="form-control">
          <div *ngIf="form.controls.last_name?.errors?.required && (form.controls.last_name?.dirty || form.controls.last_name?.touched)">
            <span class="error-message">{{helperService.translation?.lastname_required}}</span>
          </div>
        </div>
      </div>
      <div style="padding-left: 15px;">
        <div class="form-group">
          <label for="nickname">{{helperService.translation?.username}}</label>
          <input type="text" id="nickname" formControlName="nickname" class="form-control">
        </div>
      </div>
    </div>

   <div class="d-flex">
     <div>
       <div class="form-group">
         <label for="location" [ngClass]="(form.controls.location?.invalid &&
        (form.controls.location?.dirty || form.controls.location?.touched)) ? 'invalid-label-color' : ''">{{helperService.translation?.address}}</label>
         <input type="text" id="location" formControlName="location" class="form-control">
         <div *ngIf="form.controls.location?.errors?.required && (form.controls.location?.dirty || form.controls.location?.touched)">
           <span class="error-message">{{helperService.translation?.address_required}}</span>
         </div>
       </div>
     </div>
     <div style="padding-left: 15px;">
       <div class="form-group" style="width: 224px;">
         <label [ngClass]="(form.controls.birthday?.invalid &&
        (form.controls.birthday?.dirty || form.controls.birthday?.touched)) ? 'invalid-label-color' : ''">{{helperService.translation?.birthday}} * </label>
         <app-date-input formControlName="birthday"></app-date-input>
         <div *ngIf="!form.controls.birthday?.valid && (form.controls.birthday?.dirty || form.controls.birthday?.touched)">
           <span class="error-message">{{helperService.translation?.birthday_required}}</span>
         </div>
       </div>
     </div>
     <div style="padding-left: 15px;">
       <div class="form-group" style="width: 224px;">
         <label>{{helperService.translation?.marital_status}}</label>
         <angular2-multiselect [data]="maritalStatusList"
                               id="marital_status"
                               formControlName="marital_status"
                               [settings]="maritalStatussettings"
                               (onDeSelect)="closeDropdown(dropdownRef)"
                               #dropdownRef>
           <c-badge>
             <ng-template let-item="item">
               <label style="margin: 0px;">{{item.itemName}}</label>
             </ng-template>
           </c-badge>
           <c-item>
             <ng-template let-item="item">
               <label>{{item.itemName}}</label>
             </ng-template>
           </c-item>
         </angular2-multiselect>
         <div *ngIf="!form.controls.marital_status?.valid && (form.controls.marital_status?.dirty || form.controls.marital_status?.touched)">
           <span class="error-message">{{helperService.translation?.marital_status_required}}</span>
         </div>
       </div>
     </div>

   </div>

   <div class="d-flex">
     <div>
       <div class="form-group">
         <label for="password" [ngClass]="(form.controls.password?.invalid &&
        (form.controls.password?.dirty || form.controls.password?.touched)) ? 'invalid-label-color' : ''">
           {{helperService.translation?.password}} <strong *ngIf="!id">*</strong></label>
         <input type="password" id="password" formControlName="password" class="form-control">
         <div *ngIf="!form.controls.password?.valid && (form.controls.password?.dirty || form.controls.password?.touched)">
           <span class="error-message">{{helperService.translation?.password_required}}</span>
         </div>
       </div>
     </div>
     <div style="padding-left: 15px;">
       <div class="form-group">
         <label for="confirm_password" [ngClass]="(form.controls.confirm_password?.invalid &&
        (form.controls.confirm_password?.dirty || form.controls.confirm_password?.touched)) ? 'invalid-label-color' : ''">
           {{helperService.translation?.confirm_password}} <strong *ngIf="!id">*</strong></label>
         <input type="password" id="confirm_password" formControlName="confirm_password" class="form-control">
         <div class="error-message">
                          <span
                            *ngIf="form.controls.confirm_password?.errors?.required && (form.controls.confirm_password?.dirty || form.controls.confirm_password?.touched)">
                            {{helperService.translation?.confirm_password_required}}
                          </span>
           <span
             *ngIf="form.controls.confirm_password.hasError('mismatchedPasswords')&& (form.controls.confirm_password?.dirty || form.controls.confirm_password?.touched)">
                            {{helperService.translation?.password_missmatch}}
                          </span>
         </div>
       </div>
     </div>
   </div>

   <div class="d-flex" style="align-items: baseline;">
     <div>
       <div class="form-group">
         <label for="check_police">{{helperService.translation?.check_police}}</label>
         <div>
           <label class="switch m-0">
             <input type="checkbox" formControlName="check_police" id="check_police">
             <div>
               <span></span>
             </div>
           </label>
         </div>
       </div>
     </div>
     <div style="padding-left: 15px;">
       <div class="form-group" style="display: grid">
         <label for="is_verifying_otp">{{helperService.translation?.is_verifying_otp}}</label>
         <label class="switch m-0">
           <input type="checkbox" formControlName="is_verifying_otp" id="is_verifying_otp">
           <div>
             <span></span>
           </div>
         </label>
       </div>
     </div>
   </div>

  <div class="consultant_editor">
    <div class="form-group">
      <label [ngClass]="(form.controls.description?.invalid &&
        (form.controls.description?.dirty || form.controls.description?.touched)) ? 'invalid-label-color' : ''">{{helperService.translation?.user_about}}</label>
      <ckeditor (change)="onChangeEditor($event)" [config]='config' id="description" [editor]="Editor" formControlName="description"></ckeditor>
      <div *ngIf="this.letterCount">
        <span style="padding-right: 1em;">{{helperService.translation?.words}}: {{this.wordCount}}</span>
        <span>{{helperService.translation?.characters}}: {{this.letterCount}}</span>
      </div>
    </div>
  </div>
  </div>
</form>

